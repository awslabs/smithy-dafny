// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.

use crate::standard_library_conversions::{
    obool_from_dafny, obool_to_dafny, oint_from_dafny, oint_to_dafny, olong_from_dafny,
    olong_to_dafny, ostring_from_dafny, ostring_to_dafny,
};

#[allow(dead_code)]
pub fn to_dafny(
    config: crate::types::simple_constructor_config::SimpleConstructorConfig,
) -> ::std::rc::Rc<
    crate::simple::constructor::internaldafny::types::SimpleConstructorConfig,
>{
    ::std::rc::Rc::new(
        crate::simple::constructor::internaldafny::types::SimpleConstructorConfig::SimpleConstructorConfig { blobValue: blob_to_dafny(config.blob_value), booleanValue: obool_to_dafny(config.boolean_value), stringValue: ostring_to_dafny(&config.string_value), integerValue: oint_to_dafny(config.integer_value), longValue: olong_to_dafny(config.long_value) })
}

// TODO: move to standard_library_conversions.rs
fn blob_to_dafny(
    value: ::std::option::Option<::std::vec::Vec<u8>>,
) -> ::std::rc::Rc<
    crate::_Wrappers_Compile::Option<::dafny_runtime::Sequence<u8>>,
> {
    let v = match value {
        Some(v) => crate::_Wrappers_Compile::Option::Some {
            value: ::dafny_runtime::dafny_runtime_conversions::vec_to_dafny_sequence(&v, |x| *x),
        },
        None => crate::_Wrappers_Compile::Option::None {},
    };

    ::std::rc::Rc::new(v)
}

#[allow(dead_code)]
pub fn from_dafny(
    config: ::std::rc::Rc<
        crate::simple::constructor::internaldafny::types::SimpleConstructorConfig,
    >,
) -> crate::types::simple_constructor_config::SimpleConstructorConfig {
    crate::types::simple_constructor_config::SimpleConstructorConfig {
        blob_value: blob_from_dafny(config.blobValue().clone()),
        boolean_value: obool_from_dafny(config.booleanValue().clone()),
        string_value: ostring_from_dafny(config.stringValue().clone()),
        integer_value: oint_from_dafny(config.integerValue().clone()),
        long_value: olong_from_dafny(config.longValue().clone()),
    }
}

fn blob_from_dafny(
    value: ::std::rc::Rc<
        crate::_Wrappers_Compile::Option<::dafny_runtime::Sequence<u8>>,
    >,
) -> ::std::option::Option<::std::vec::Vec<u8>> {
    match value.as_ref() {
        crate::_Wrappers_Compile::Option::Some { value } => {
            Some(::std::rc::Rc::try_unwrap(value.to_array()).unwrap_or_else(|rc| (*rc).clone()))
        }
        crate::_Wrappers_Compile::Option::None {} => None,
    }
}
